<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>详情页面</title>
    <link rel="stylesheet" href="css/details.css">
    <link rel="stylesheet" href="css/reset.css">
</head>

<body>
    <!-- 头部 -->
    <div id="head">
        <div class="head-con">
            <div class="headRight" style="width:200px;height: 39px;float: right;">
                <div class="picture"></div>
                <div class="notice">
                    <span>网站公告</span>
                </div>
            </div>
            <div class="headLeft">
                <div class="welcome">
                    <span>我的订单</span>
                    <span>
                        <a href="login.html" target="_blank">登录</a>|
                        <a href="register.html" target="_blank">注册</a>
                    </span>
                    <span>您好，欢迎光临凡客诚品！</span>
                </div>
            </div>
        </div>
    </div>
    <!-- 顶部通栏广告位 -->
    <div id="nov-con">
        <div class="novRight">
            <div class="novTop">
                <input type="text" placeholder="输入搜索你喜欢的商品">
                <input type="button" placeholder="搜索">
                <div class="shop">
                    <a href="shopcar.html">
                        <p>购物车
                            (<span id="zengjia">0</span>)
                        </p>
                    </a>
                </div>
            </div>
            <div class="novWord">
                <p>
                    热门搜索:
                    <span>免费衬衫</span>
                    <span>卫衣</span>
                    <span>针织衫</span>
                    <span>外套</span>
                    <span>休闲裤</span>
                    <span>帆布鞋</span>
                    <span>羽绒服</span>
                </p>
            </div>
        </div>
    </div>
    <!-- 导航 -->
    <div class="navLi">
        <h1><img src="images/logo_02.png" alt=""></h1>
        <ul>
            <li class="first"><a href="index.html" target="_blank">首页</a>
                <span class="lispan"></span>
            </li>
            <li id="appear">
                <a href="#" target="_blank">卫衣</a>
                <span class="lispan"></span>
                <!-- 下拉列表 -->
                <div class="one">
                    <p><a href="goodslist.html" target="_blank">时尚款</a></p>
                    <p><a href="">开衫</a></p>
                    <p><a href="">连帽</a></p>
                    <p><a href="">圆领</a></p>
                    <p><a href="">加绒</a></p>
                </div>
            </li>
            <li id="appear1">商务衬衫
                <span class="lispan"></span>
                <div class="two">
                    <p><a href="">长袖免套</a></p>
                    <p><a href="">舒适商务</a></p>
                    <p><a href="">高支衬衫</a></p>
                    <p><a href="">短袖免套</a></p>
                    <p><a href="">短袖桑蚕丝</a></p>
                </div>
            </li>
            <li>休闲衬衫
                <span class="lispan"></span>
            </li>
            <li>摇粒绒
                <span class="lispan"></span>
            </li>
            <li>外套
                <span class="lispan"></span>
            </li>
            <li>针织衫
                <span class="lispan"></span>
            </li>
            <li>裤装
                <span class="lispan"></span>
            </li>
            <li>鞋
                <span class="lispan"></span>
            </li>
            <li>家居配饰
                <span class="lispan"></span>
            </li>
        </ul>
    </div>
    <!-- 导航 -->
    <div id="main">
        <div class="smallnav">
            <i>首页</i><span>></span>
            <i>男装</i><span>></span>
            <i>卫衣</i><span>></span>
            <i>套头卫衣</i><span>></span>
            <i>凡客卫衣</i>
        </div>
    </div>
    <div id="title">
        <div class="box">
            <h2>凡客卫衣 连帽</h2>
            <h3>
                <i>模特展示</i><span>|</span>
                <i>购买指南</i><span>|</span>
                <i>洗涤保养</i><span>|</span>
                <i>提问</i><span>|</span>
                <i>评论</i>
            </h3>
        </div>
    </div>
    <!-- 放大镜 -->
    <div id="context">
        <div class="content">
            <div class="boxglass">
                <img class="bigimg" src="images/fangdajing1.jpg" alt="">
                <div class="mask"></div>
                <div class="glass"><img src="images/fangdajing1.jpg" alt=""></div>
            </div>
            <ul class="smallimgList">
                <li><img src="images/fangdajing1.jpg" alt=""></li>
                <li><img src="images/fangdajing2.jpg" alt=""></li>
            </ul>
        </div>
        <!-- youbian -->
        <div class="right">
            <div class="right-top">
                <h1>
                    售价￥<span>130</span>
                    <i>充值后相当于￥69</i>
                </h1>
                <p>
                    充100返100，点击充值
                </p>
                <h3><span>颜色:</span>
                    <span><i>黑色</i></span>
                    <span><i>白色</i></span>
                </h3>
                <h4 class="box"><span>尺寸:</span>
                <span>M</span></h4>
                <h4 class="box1">
                    <span>数量:</span>
                    <button class="reduce">-</button>
                    <span class="span">1</span>
                    <button class="add">+</button>
                </h4>
                <h4 class="box2">
                    <a href="shopcar.html">
                    <div class="liji">立即购买</div>
                    </a>
                    <div class="jiaru">加入购物车</div>
                </h4>
                <h5>
                    <div class="xian">优惠提示</div>
                    <div class="free"><span>免邮</span>
                    <span>全场购物满199元免运费</span></div>
                    <div class="youhui">
                        <span>优惠券</span>
                        <span>满200减20</span>
                        <span>满1000减150</span>
                        <span>新人有礼</span>
                    </div>
                </h5>
            </div>
        </div>
    </div>
    <!-- bottom -->
    <div id="bottom">
        <img src="images/box1.jpg" alt="">
        <img src="images/box2.jpg" alt="">
        <img src="images/box3.jpg" alt="">
        <img src="images/box4.jpg" alt="">
        <img src="images/box5.jpg" alt="">
        <img src="images/box6.jpg" alt="">
        <img src="images/box7.jpg" alt="">
        <img src="images/box8.jpg" alt="">
        <img src="images/box9.jpg" alt="">
        <img src="images/box10.jpg" alt="">
    </div>
    <!-- foot -->
    <!-- 下装推荐 -->
    <div id="wrop">
        <div class="worp-con">
            <div class="box1">
                <ul>
                    <li>
                        <img src="images/worp1.png" alt="">
                        <p class="p1"> 7X9小时在线客服</p>
                    </li>
                    <li>
                        <img src="images/worp2.png" alt="">
                        <p class="p2">七天内退货</p>
                        <p class="p3">购物满199元免运费</p>
                    </li>
                    <li>
                        <img src="images/worp3.jpg" alt="" style="width: 104px;
                        height: 104px;">
                        <p class="p4">扫描下载<i>凡客</i>客户端</p>
                    </li>
                </ul>
            </div>
            <div class="box2">
                <ul>
                    <li>关于凡客</li>
                    <li>新手指南</li>
                    <li>配送范围及时间</li>
                    <li>支付方式</li>
                    <li>售后服务</li>
                    <li class="list">帮助中心</li>
                </ul>
            </div>
        </div>
    </div>
    <!-- foot -->
    <div id="foot">
        <div class="foot-con">
            <div class="footTop">
                <p class="p1"> 京公网安备11011502002400号 出版物经营许可证新出发京批字第直110138号</p>
                <p class="p2"> 凡客诚品（北京）科技有限公司</p>
            </div>
            <div class="footBottom">
                <div class="left"></div>
                <div class="center"></div>
            </div>
        </div>
    </div>
</body>

</html>
<script src="js/machine.js"></script>
<script>
    let list = $(".smallimgList img")
    let big = $(".bigimg")
    let glass = $(".glass")
    let mask = $(".mask")
    let zengjia = $("#zengjia")
    let jiaru = $(".jiaru")
    let glassimg = document.querySelector(".glass img")

    bindEvent(list, "onclick", function () {
        big.src = this.src;
        glassimg.src = this.src;
    })
    big.onmouseenter = function () {
        mask.style.display = "block";
        glass.style.display = "block";
    }
    big.onmouseleave = function () {
        mask.style.display = "none";
        glass.style.display = "none";
    }
    big.onmousemove = function (event) {
        // 获取鼠标箭头的坐标值
        let point = {
            x: event.offsetX,
            y: event.offsetY,
        }
        // 计算鼠标相对于大图的比例系数
        let xishu = {
            x: point.x / big.offsetWidth,
            y: point.y / big.offsetHeight,
        }

        // 边缘碰撞检测
        if (!(point.x + mask.offsetWidth / 2 >= big.offsetWidth || point.x < mask.offsetWidth / 2)) {
            // 调整遮罩层的位置
            mask.style.left = point.x - mask.offsetWidth / 2 + "px";
            // 计算超大图的位置
            glassimg.style.left = -glassimg.offsetWidth * xishu.x + glass.offsetHeight / 2 + "px";
        }
        if (!(point.y + mask.offsetHeight / 2 >= big.offsetHeight || point.y < mask.offsetHeight / 2)) {
            // 调整遮罩层的位置
            mask.style.top = point.y - mask.offsetHeight / 2 + "px";
            // 计算超大图的位置
            glassimg.style.top = -glassimg.offsetHeight * xishu.y + glass.offsetHeight / 2 + "px"
        }
    }
    // 加入购物车
    jiaru.onclick = function(){
        zengjia.innerHTML = parseInt(zengjia.innerHTML) + 1
    }
    $("#appear").onmousemove = function(){
        $(".one").style.display = "block"
    }
    $(".one").onmouseleave = function(){
        $(".one").style.display = "none"
    }
    $(".one").onmouseenter = function(){
        $(".one").style.display = "block"
    }
    $("#appear1").onmousemove = function(){
        $(".two").style.display = "block"
    }
    $(".two").onmouseleave = function(){
        $(".two").style.display = "none"
    }
    $(".two").onmouseenter = function(){
        $(".two").style.display = "block"
    }
    // 加号
    $(".add").onclick = function(){
        $(".span").innerHTML = parseInt($(".span").innerHTML) + 1
    }
    // 减号
    $(".reduce").onclick = function(){
        if(parseInt($(".span").innerHTML)<1){
            return 0
        }
        $(".span").innerHTML = parseInt($(".span").innerHTML) - 1
    }
</script>